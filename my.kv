#:import Factory kivy.factory.Factory
#:import Image kivy.uix.image
#:import Image kivy.core.image
#:import Video kivy.uix.video
#:import Video kivy.core.video
#:import ScrollView kivy.uix.scrollview

WindowManager:
    MainWindow:
    SecondWindow:
    ThirdWindow:
    FourthWindow:
    FifthWindow:

<MainWindow>:
    name: "main"
    id: main

    GridLayout:
        cols:1
        size: root.width, root.height
        size_hint: (0.7, 1)
        pos_hint: {'center_x': 0.5}
        padding: 50
        spacing: 20

        Label:
            text: "Rando!"
            font_size: '100sp'
            color: (2/255,11/255,69/255, 0.95)

        EasyButton:
            id: EasyButton
            text: "Easy"
            variable: 5
            font_size: '50sp'
            on_release:
                app.root.current = "descriptions"
                root.manager.transition.direction = "right"
                root.level(self.text, self.variable)

        MediumButton:
            id: MediumButton
            text: "Medium"
            variable: 7
            font_size: '50sp'
            on_release:
                app.root.current = "descriptions"
                root.manager.transition.direction = "right"
                root.level(self.text, self.variable)

        HardButton:
            id: HardButton
            text: "Hard"
            variable: 9
            font_size: '50sp'
            on_release:
                app.root.current = "descriptions"
                root.manager.transition.direction = "right"
                root.level(self.text, self.variable)

<EasyButton@Button>
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (131/255, 191/255, 250/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20]

<MediumButton@Button>
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (8/255, 68/255, 221/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20]

<HardButton@Button>
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (4/255, 20/255, 123/255, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20]

<SecondWindow>:
    name: "descriptions"
    ScrollView:
        id: scroll
        effect_cls: 'ScrollEffect'
        size: (root.width, root.height)
        do_scroll_y: True
        do_scroll_x: False

        GridLayout:
            spacing: 10
            size_hint_y: 1.3
            size_hint_x: 1
            id: grid

            cols:1

            StartButton:
                id: 'start'
                text: 'Start'
                font_size: '40sp'
                size_hint_y: 0.2
                on_release:
                    app.root.current = "timer"
                    root.manager.transition.direction = "right"

<StartButton@Button>
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (18/255, 143/255, 9/255, 0.95)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20]


<ThirdWindow>:
    name: "timer"

    GridLayout:
        cols:1
        GridLayout:
            size_hint_y: 0.1
            cols:2
            GridLayout:
                cols: 2
                Label:
                    text: "Set Number:"
                    font_size: '35sp'
                    color: 0, 0, 0, 1
                Label:
                    size_hint_x: 0.1
                    id: set
                    text: "1"
                    font_size: '35sp'
                    color: 0, 0, 0, 1

            Label:
                size_hint_x: 0.3
        GridLayout:
            cols: 2
            size_hint_y: 0.1
            Label:

            Label:
                text: ""
                color: 0, 0, 0, 1
                id: exercise
                font_size: '20sp'

        GridLayout:
            cols: 2
            size_hint_y: 0.8
            Label:
                id: timer
                font_size: '150sp'
                color: 0, 0, 0, 1
            Image:
                id: advice
                source: ''

        GridLayout:
            cols:2
            size_hint_y: 0.2
            Label:
                size_hint_x: 0.5
            GridLayout:
                cols:2
                Label:
                    size_hint_x: 0.2
                    text: "  Up Next:     "
                    color: 0, 0, 0, 1
                    font_size: '20sp'

                Label:
                    text: "   "
                    color: 0, 0, 0, 1
                    id: next
                    font_size: '20sp'


        PauseButton:
            size_hint_y: 0.2
            color: 0, 0, 0, 1
            id: pause
            text: "Pause ||"
            font_size: '20sp'
            on_release: root.pause_play()


<PauseButton@Button>
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (240/255, 240/255, 0/255, 0.95)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20]



<FourthWindow>:
    name: "gif"

    GridLayout:
        id: GIF
        cols: 1

        Video:
            source: 'GIFS/exercise.gif'




<FifthWindow>:
    name: "cooldown"

    GridLayout:
        cols: 1

        VideoPlayer:
            source: 'Images/cooldown.mp4'


